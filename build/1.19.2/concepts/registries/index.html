<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Registries - Forge Documentation</title>

    <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="../../images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../images/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="../../images/manifest.json">
    <link rel="mask-icon" href="../../images/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../images/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Forge Docs">
    <meta name="application-name" content="Forge Docs">
    <meta name="msapplication-config" content="../../images/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="https://use.fontawesome.com/a1f20be65b.css">
    <link rel="stylesheet" href="../../css/styles_dark.css?version=2" data-theme="dark">
    <link rel="stylesheet" href="../../css/styles_light.css?version=2" data-theme="light">

    
    <link href="../../css/version_warning_fix.css" rel="stylesheet">
    
    <script type="text/javascript" src="../../js/theme-switch.js"></script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jScrollPane/2.0.23/script/jquery.jscrollpane.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/stickyfill/1.1.4/stickyfill.min.js"></script>
    <script type="text/javascript" src="../../js/theme.js"></script>

    <script>var base_url = '../..';</script>
    
    <script src="../../search/main.js"></script>
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    
</head>
<body>
<header>
    <div class="wrapper">
        <div class="logo">
            <a href="#" class="open-sidebar"><i class="fa fa-bars"></i></a>
            <a href="../.." class="logo-image"><img src="../../images/logo.svg" width="244"></a>
        </div>
        <nav>
            <ul class="links clearfix">
                <li><a href="https://minecraftforge.net/">Forums</a></li>
            </ul>
        </nav>
        
        <form role="search" id="rtd-search-form" class="search" action="../../search.html" method="get">
            <input type="submit" value="&#xf002;">
            <div class="search-field">
                <input type="search" title="Search" name="q" placeholder="Search...">
            </div>
        </form>
        
    </div>
</header>
<main class="wrapper sidebar-wrapper">
    <div class="sidebar-left sidebar-sticky">
        <aside>
            <section class="sidebar-nav">
                <h2 class="sidebar-heading">
                    <a href="#" class="close-sidebar"><i class="fa fa-bars"></i></a> Navigation
                    <form class="version-selection">
                        <label for="version-selection-dropdown">Docs:</label>
                        <select id="version-selection-dropdown" class="version-selection-dropdown" onchange="location = this.value;">
                            
                            <option value="https://docs.minecraftforge.net/en/latest" selected>MinecraftForge</option>
                            
                            <option value="https://docs.minecraftforge.net/en/fg-6.x" >ForgeGradle</option>
                            
                        </select>
                    </form>
                </h2>
                <h2 class="sidebar-heading">
                    <form class="version-selection">
                        <label for="version-selection-dropdown">Version:</label>
                        <select id="version-selection-dropdown" class="version-selection-dropdown" onchange="location = this.value;">
                            
                            <option value="https://docs.minecraftforge.net/en/1.18.x" >1.18.x</option>
                            
                            <option value="https://docs.minecraftforge.net/en/1.19.2" selected>1.19.2</option>
                            
                            <option value="https://docs.minecraftforge.net/en/1.19.x" >1.19.x</option>
                            
                        </select>
                    </form>
                </h2>
                <ul class="section-content scroll-pane">
                    
                    
<li >
    
    <a href="../.." class="elem-text">Home</a>
    
    
</li>

                    
                    
<li >
    
    <a href="../../contributing/" class="elem-text">Contributing to the Docs</a>
    
    
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Getting Started</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../gettingstarted/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../gettingstarted/structuring/" class="elem-text">Structuring Your Mod</a>
    
    
</li>

        
        
<li >
    
    <a href="../../gettingstarted/versioning/" class="elem-text">Versioning</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Core Concepts</a>
    
    <ul class="nav-collapsible nav-collapsible-open">
        
        
<li class="elem-active elem-toc" >
    
    <a href="#registries" class="elem-text">Registries</a>
    
    
    <ul class="table-of-contents">
        
        
        
        <li class="toc-subitem"><a href="#methods-for-registering">Methods for Registering</a></li>
        
        <li class="toc-subitem"><a href="#referencing-registered-objects">Referencing Registered Objects</a></li>
        
        <li class="toc-subitem"><a href="#creating-custom-forge-registries">Creating Custom Forge Registries</a></li>
        
        <li class="toc-subitem"><a href="#handling-missing-entries">Handling Missing Entries</a></li>
        
        
    </ul>
    
</li>

        
        
<li >
    
    <a href="../sides/" class="elem-text">Sides</a>
    
    
</li>

        
        
<li >
    
    <a href="../events/" class="elem-text">Events</a>
    
    
</li>

        
        
<li >
    
    <a href="../lifecycle/" class="elem-text">Mod Lifecycle</a>
    
    
</li>

        
        
<li >
    
    <a href="../resources/" class="elem-text">Resources</a>
    
    
</li>

        
        
<li >
    
    <a href="../internationalization/" class="elem-text">Internationalization</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Blocks</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../blocks/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../blocks/states/" class="elem-text">Block States</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Items</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../items/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../items/bewlr/" class="elem-text">BlockEntityWithoutLevelRenderer</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Networking</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../networking/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../networking/simpleimpl/" class="elem-text">SimpleImpl</a>
    
    
</li>

        
        
<li >
    
    <a href="../../networking/entities/" class="elem-text">Synchronizing Entities</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Block Entities</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../blockentities/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../blockentities/ber/" class="elem-text">BlockEntityRenderer</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Game Effects</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../gameeffects/particles/" class="elem-text">Particles</a>
    
    
</li>

        
        
<li >
    
    <a href="../../gameeffects/sounds/" class="elem-text">Sounds</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Data Storage</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datastorage/capabilities/" class="elem-text">Capabilities</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datastorage/saveddata/" class="elem-text">Saved Data</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datastorage/codecs/" class="elem-text">Codecs</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Graphical User Interfaces</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../gui/menus/" class="elem-text">Menus</a>
    
    
</li>

        
        
<li >
    
    <a href="../../gui/screens/" class="elem-text">Screens</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Rendering</a>
    
    <ul class="nav-collapsible ">
        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Model Loaders</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../rendering/modelloaders/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../rendering/modelloaders/bakedmodel/" class="elem-text">Baked Model</a>
    
    
</li>

        
        
<li >
    
    <a href="../../rendering/modelloaders/transform/" class="elem-text">Transform</a>
    
    
</li>

        
        
<li >
    
    <a href="../../rendering/modelloaders/itemoverrides/" class="elem-text">Item Overrides</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Resources</a>
    
    <ul class="nav-collapsible ">
        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Client Assets</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/client/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Models</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/client/models/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/client/models/tinting/" class="elem-text">Texture Tinting</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/client/models/itemproperties/" class="elem-text">Item Properties</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Server Data</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/server/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Recipes</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/server/recipes/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/recipes/custom/" class="elem-text">Custom Recipes</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/recipes/ingredients/" class="elem-text">Ingredients</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/recipes/incode/" class="elem-text">Non-Datapack Recipes</a>
    
    
</li>

        
    </ul>
</li>

        
        
<li >
    
    <a href="../../resources/server/loottables/" class="elem-text">Loot Tables</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/glm/" class="elem-text">Global Loot Modifiers</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/tags/" class="elem-text">Tags</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/advancements/" class="elem-text">Advancements</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/conditional/" class="elem-text">Conditionally-Loaded Data</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Data Generation</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datagen/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Client Assets</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datagen/client/modelproviders/" class="elem-text">Model Providers</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/client/localization/" class="elem-text">Language Providers</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/client/sounds/" class="elem-text">Sound Providers</a>
    
    
</li>

        
    </ul>
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Server Data</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datagen/server/recipes/" class="elem-text">Recipe Providers</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/loottables/" class="elem-text">Loot Table Providers</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/tags/" class="elem-text">Tag Providers</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/advancements/" class="elem-text">Advancement Providers</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/glm/" class="elem-text">Global Loot Modifier Providers</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Miscellaneous Features</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../misc/config/" class="elem-text">Configuration</a>
    
    
</li>

        
        
<li >
    
    <a href="../../misc/keymappings/" class="elem-text">Key Mappings</a>
    
    
</li>

        
        
<li >
    
    <a href="../../misc/gametest/" class="elem-text">Game Tests</a>
    
    
</li>

        
        
<li >
    
    <a href="../../misc/updatechecker/" class="elem-text">Forge Update Checker</a>
    
    
</li>

        
        
<li >
    
    <a href="../../misc/debugprofiler/" class="elem-text">Debug Profiler</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Advanced Topics</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../advanced/accesstransformers/" class="elem-text">Access Transformers</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Contributing to Forge</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../forgedev/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../forgedev/prguidelines/" class="elem-text">Pull Request Guidelines</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> Legacy Versions</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../legacy/" class="elem-text">Introduction</a>
    
    
</li>

        
        
<li >
    
    <a href="../../legacy/porting/" class="elem-text">Porting to This Version</a>
    
    
</li>

        
    </ul>
</li>

                    
                </ul>
            </section>
        </aside>
    </div>

    <div class="sidebar-sticky-wrapper-content">
        <article class="docs-entry">
            
            <h1 id="registries">Registries<a class="headerlink" href="#registries" title="Permanent link"> </a></h1>
<p>Registration is the process of taking the objects of a mod (such as items, blocks, sounds, etc.) and making them known to the game. Registering things is important, as without registration the game will simply not know about these objects, which will cause unexplainable behaviors and crashes. </p>
<p>Most things that require registration in the game are handled by the Forge registries. A registry is an object similar to a map that assigns values to keys. Forge uses registries with <a href="../resources/#resourcelocation"><code>ResourceLocation</code></a> keys to register objects. This allows the <code>ResourceLocation</code> to act as the &ldquo;registry name&rdquo; for objects.</p>
<p>Every type of registrable object has its own registry. To see all registries wrapped by Forge, see the <code>ForgeRegistries</code> class. All registry names within a registry must be unique. However, names in different registries will not collide. For example, there&rsquo;s a <code>Block</code> registry, and an <code>Item</code> registry. A <code>Block</code> and an <code>Item</code> may be registered with the same name <code>example:thing</code> without colliding; however, if two different <code>Block</code>s or <code>Item</code>s were registered with the same exact name, the second object will override the first.</p>
<h2 id="methods-for-registering">Methods for Registering<a class="headerlink" href="#methods-for-registering" title="Permanent link"> </a></h2>
<p>There are two proper ways to register objects: the <code>DeferredRegister</code> class, and the <code>RegisterEvent</code> lifecycle event.</p>
<h3 id="deferredregister">DeferredRegister<a class="headerlink" href="#deferredregister" title="Permanent link"> </a></h3>
<p><code>DeferredRegister</code> is the recommended way to register objects. It allows the use and convenience of static initializers while avoiding the issues associated with it. It simply maintains a list of suppliers for entries and registers the objects from those suppliers during <code>RegisterEvent</code>.</p>
<p>An example of a mod registering a custom block:</p>
<pre class="highlight"><code class="language-java">private static final DeferredRegister&lt;Block&gt; BLOCKS = DeferredRegister.create(ForgeRegistries.BLOCKS, MODID);

public static final RegistryObject&lt;Block&gt; ROCK_BLOCK = BLOCKS.register("rock", () -&gt; new Block(BlockBehaviour.Properties.of(Material.STONE)));

public ExampleMod() {
  BLOCKS.register(FMLJavaModLoadingContext.get().getModEventBus());
}</code></pre>
<h3 id="registerevent"><code>RegisterEvent</code><a class="headerlink" href="#registerevent" title="Permanent link"> </a></h3>
<p><code>RegisterEvent</code> is the second way to register objects. This <a href="../events/">event</a> is fired for each registry after the mod constructors and before the loading of configs. Objects are registered using <code>#register</code> by passing in the registry key, the name of the registry object, and the object itself. There is an additional <code>#register</code> overload which takes in a consumed helper to register an object with a given name. It is recommended to use this method to avoid unnecessary object creation.</p>
<p>Here is an example: (the event handler is registered on the <em>mod event bus</em>)</p>
<pre class="highlight"><code class="language-java">@SubscribeEvent
public void register(RegisterEvent event) {
  event.register(ForgeRegistries.Keys.BLOCKS,
    helper -&gt; {
      helper.register(new ResourceLocation(MODID, "example_block_1"), new Block(...));
      helper.register(new ResourceLocation(MODID, "example_block_2"), new Block(...));
      helper.register(new ResourceLocation(MODID, "example_block_3"), new Block(...));
      // ...
    }
  );
}</code></pre>
<h3 id="registries-that-arent-forge-registries">Registries that aren&rsquo;t Forge Registries<a class="headerlink" href="#registries-that-arent-forge-registries" title="Permanent link"> </a></h3>
<p>Not all registries are wrapped by Forge. These can be static registries, like <code>LootItemConditionType</code>, which are safe to use. There are also dynamic registries, like <code>ConfiguredFeature</code> and some other worldgen registries, which are typically represented in JSON. <code>DeferredRegister#create</code> has an overload which allows modders to specify the registry key of which vanilla registry to create a <code>RegistryObject</code> for. The registry method and attaching to the mod event bus is the same as other <code>DeferredRegister</code>s.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Dynamic registry objects should only be registered in-code if an existing vanilla registry object uses it.</p>
</div>
<pre class="highlight"><code class="language-java">private static final DeferredRegister&lt;LootItemConditionType&gt; REGISTER = DeferredRegister.create(Registry.LOOT_ITEM_REGISTRY, "examplemod");

public static final RegistryObject&lt;LootItemConditionType&gt; EXAMPLE_LOOT_ITEM_CONDITION_TYPE = REGISTER.register("example_loot_item_condition_type", () -&gt; new LootItemConditionType(...));</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some classes cannot by themselves be registered. Instead, <code>*Type</code> classes are registered, and used in the formers&rsquo; constructors. For example, <a href="../../blockentities/"><code>BlockEntity</code></a> has <code>BlockEntityType</code>, and <code>Entity</code> has <code>EntityType</code>. These <code>*Type</code> classes are factories that simply create the containing type on demand. </p>
<p>These factories are created through the use of their <code>*Type$Builder</code> classes. An example: (<code>REGISTER</code> refers to a <code>DeferredRegister&lt;BlockEntityType&gt;</code>)
<pre class="highlight"><code class="language-java">public static final RegistryObject&lt;BlockEntityType&lt;ExampleBlockEntity&gt;&gt; EXAMPLE_BLOCK_ENTITY = REGISTER.register(
  "example_block_entity", () -&gt; BlockEntityType.Builder.of(ExampleBlockEntity::new, EXAMPLE_BLOCK.get()).build(null)
);</code></pre></p>
</div>
<h2 id="referencing-registered-objects">Referencing Registered Objects<a class="headerlink" href="#referencing-registered-objects" title="Permanent link"> </a></h2>
<p>Registered objects should not be stored in fields when they are created and registered. They are to be always newly created and registered whenever <code>RegisterEvent</code> is fired for that registry. This is to allow dynamic loading and unloading of mods in a future version of Forge.</p>
<p>Registered objects must always be referenced through a <code>RegistryObject</code> or a field with <code>@ObjectHolder</code>.</p>
<h3 id="using-registryobjects">Using RegistryObjects<a class="headerlink" href="#using-registryobjects" title="Permanent link"> </a></h3>
<p><code>RegistryObject</code>s can be used to retrieve references to registered objects once they are available. These are used by <code>DeferredRegister</code> to return a reference to the registered objects. Their references are updated after <code>RegisterEvent</code> is called for their registry, along with the <code>@ObjectHolder</code> annotations.</p>
<p>To get a <code>RegistryObject</code>, call <code>RegistryObject#create</code> with a <code>ResourceLocation</code> and the <code>IForgeRegistry</code> of the registrable object. Custom registries can also be used by supplying the registry name instead. Store the <code>RegistryObject</code> in a <code>public static final</code> field, and call <code>#get</code> whenever you need the registered object.</p>
<p>An example of using <code>RegistryObject</code>:</p>
<pre class="highlight"><code class="language-java">public static final RegistryObject&lt;Item&gt; BOW = RegistryObject.create(new ResourceLocation("minecraft:bow"), ForgeRegistries.ITEMS);

// assume that 'neomagicae:mana_type' is a valid registry, and 'neomagicae:coffeinum' is a valid object within that registry
public static final RegistryObject&lt;ManaType&gt; COFFEINUM = RegistryObject.create(new ResourceLocation("neomagicae", "coffeinum"), new ResourceLocation("neomagicae", "mana_type"), "neomagicae"); </code></pre>
<h3 id="using-objectholder">Using @ObjectHolder<a class="headerlink" href="#using-objectholder" title="Permanent link"> </a></h3>
<p>Registered objects from registries can be injected into the <code>public static</code> fields by annotating classes or fields with <code>@ObjectHolder</code> and supplying enough information to construct a <code>ResourceLocation</code> to identify a specific object in a specific registry.</p>
<p>The rules for <code>@ObjectHolder</code> are as follows:</p>
<ul>
<li>If the class is annotated with <code>@ObjectHolder</code>, its value will be the default namespace for all fields within if not explicitly defined</li>
<li>If the class is annotated with <code>@Mod</code>, the modid will be the default namespace for all annotated fields within if not explicitly defined</li>
<li>A field is considered for injection if:</li>
<li>it has at least the modifiers <code>public static</code>;</li>
<li>the <strong>field</strong> is annotated with <code>@ObjectHolder</code>, and:<ul>
<li>the name value is explicitly defined; and</li>
<li>the registry name value is explicitly defined</li>
</ul>
</li>
<li><em>A compile-time exception is thrown if a field does not have a corresponding registry or name.</em></li>
<li><em>An exception is thrown if the resulting <code>ResourceLocation</code> is incomplete or invalid (non-valid characters in path)</em></li>
<li>If no other errors or exceptions occur, the field will be injected</li>
<li>If all of the above rules do not apply, no action will be taken (and a message may be logged)</li>
</ul>
<p><code>@ObjectHolder</code>-annotated fields are injected with their values after <code>RegisterEvent</code> is fired for their registry, along with the <code>RegistryObject</code>s.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the object does not exist in the registry when it is to be injected, a debug message will be logged and no value will be injected.</p>
</div>
<p>As these rules are rather complicated, here are some examples:</p>
<pre class="highlight"><code class="language-java">class Holder {
  @ObjectHolder(registryName = "minecraft:enchantment", value = "minecraft:flame")
  public static final Enchantment flame = null;     // Annotation present. [public static] is required. [final] is optional.
                                                    // Registry name is explicitly defined: "minecraft:enchantment"
                                                    // Resource location is explicitly defined: "minecraft:flame"
                                                    // To inject: "minecraft:flame" from the [Enchantment] registry

  public static final Biome ice_flat = null;        // No annotation on the field.
                                                    // Therefore, the field is ignored.

  @ObjectHolder("minecraft:creeper")
  public static Entity creeper = null;              // Annotation present. [public static] is required.
                                                    // The registry has not been specified on the field.
                                                    // Therefore, THIS WILL PRODUCE A COMPILE-TIME EXCEPTION.

  @ObjectHolder(registryName = "potion")
  public static final Potion levitation = null;     // Annotation present. [public static] is required. [final] is optional.
                                                    // Registry name is explicitly defined: "minecraft:potion"
                                                    // Resource location is not specified on the field
                                                    // Therefore, THIS WILL PRODUCE A COMPILE-TIME EXCEPTION.
}</code></pre>
<h2 id="creating-custom-forge-registries">Creating Custom Forge Registries<a class="headerlink" href="#creating-custom-forge-registries" title="Permanent link"> </a></h2>
<p>Custom registries can usually just be a simple map of key to value. This is a common style; however, it forces a hard dependency on the registry being present. It also requires that any data that needs to be synced between sides must be done manually. Custom Forge Registries provide a simple alternative for creating soft dependents along with better management and automatic syncing between sides (unless told otherwise). Since the objects also use a Forge registry, registration becomes standardized in the same way.</p>
<p>Custom Forge Registries are created with the help of a <code>RegistryBuilder</code>, through either <code>NewRegistryEvent</code> or the <code>DeferredRegister</code>. The <code>RegistryBuilder</code> class takes various parameters (such as the registry&rsquo;s name, id range, and various callbacks for different events happening on the registry). New registries are registered to the <code>RegistryManager</code> after <code>NewRegistryEvent</code> finishes firing.</p>
<p>Any newly created registry should use its associated <a href="#methods-for-registering">registration method</a> to register the associated objects.</p>
<h3 id="using-newregistryevent">Using NewRegistryEvent<a class="headerlink" href="#using-newregistryevent" title="Permanent link"> </a></h3>
<p>When using <code>NewRegistryEvent</code>, calling <code>#create</code> with a <code>RegistryBuilder</code> will return a supplier-wrapped registry. The supplied registry can be accessed after <code>NewRegistryEvent</code> has finished posting to the mod event bus. Getting the custom registry from the supplier before <code>NewRegistryEvent</code> finishes firing will result in a <code>null</code> value.</p>
<h3 id="with-deferredregister">With DeferredRegister<a class="headerlink" href="#with-deferredregister" title="Permanent link"> </a></h3>
<p>The <code>DeferredRegister</code> method is once again another wrapper around the above event. Once a <code>DeferredRegister</code> is created in a constant field using the <code>#create</code> overload which takes in the registry name and the mod id, the registry can be constructed via <code>DeferredRegister#makeRegistry</code>. This takes in  a supplied <code>RegistryBuilder</code> containing any additional configurations. The method already populates <code>#setName</code> by default. Since this method can be returned at any time, a supplied version of an <code>IForgeRegistry</code> is returned instead. Getting the custom registry from the supplier before <code>NewRegistryEvent</code> is fired will result in a <code>null</code> value.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code>DeferredRegister#makeRegistry</code> must be called before the <code>DeferredRegister</code> is added to the mod event bus via <code>#register</code>. <code>#makeRegistry</code> also uses the <code>#register</code> method to create the registry during <code>NewRegistryEvent</code>.</p>
</div>
<h2 id="handling-missing-entries">Handling Missing Entries<a class="headerlink" href="#handling-missing-entries" title="Permanent link"> </a></h2>
<p>There are cases where certain registry objects will cease to exist whenever a mod is updated or, more likely, removed. It is possible to specify actions to handle the missing mapping through the third of the registry events: <code>MissingMappingsEvent</code>. Within this event, a list of missing mappings can be obtained either by <code>#getMappings</code> given a registry key and mod id or all mappings via <code>#getAllMappings</code> given a registry key.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code>MissingMappingsEvent</code> is fired on the <strong>Forge</strong> event bus.</p>
</div>
<p>For each <code>Mapping</code>, one of four mapping types can be selected to handle the missing entry:</p>
<table>
<thead>
<tr>
<th align="center">Action</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">IGNORE</td>
<td align="left">Ignores the missing entry and abandons the mapping.</td>
</tr>
<tr>
<td align="center">WARN</td>
<td align="left">Generates a warning in the log.</td>
</tr>
<tr>
<td align="center">FAIL</td>
<td align="left">Prevents the world from loading.</td>
</tr>
<tr>
<td align="center">REMAP</td>
<td align="left">Remaps the entry to an already registered, non-null object.</td>
</tr>
</tbody>
</table>
<p>If no action is specified, then the default action will occur by notifying the user about the missing entry and whether they still would like to load the world. All actions besides remapping will prevent any other registry object from taking the place of the existing id in case the associated entry ever gets added back into the game.</p>
            
        </article>
        
    </div>
</main>
<div class="wrapper">
    <footer>
        Built with <a href="https://www.mkdocs.org">MkDocs</a> using a custom theme. Hosted by <a href="https://readthedocs.org">Read the Docs</a>.
        <div class="theme-switch-wrapper">
            Enable Dark Theme
            <label class="theme-switch">
                <input type="checkbox">
                <span class="slider round"></span>
            </label>
        </div>
    </footer>
</div>
</body>
</html>